{"mappings":"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","sources":["components/header/index.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1cbd26952ff4df2f.js","node_modules/@parcel/runtime-js/lib/runtime-b0af8b59fc6eb093.js","src/state.ts","components/todo-item/index.ts","pages/home/index.ts","src/index.ts"],"sourcesContent":["export function headerEl() {\n   \n   class Header extends HTMLElement{\n      shadowRoot: ShadowRoot | null;\n      shadow = this.attachShadow({ mode: 'open' });\n      constructor() {\n         super();\n         this.render();\n      }\n      render() {\n         let style = document.createElement('style');\n         style.textContent = `\n         .header{\n            background-color:#FF8282;\n            height:55px;\n         }\n         `;\n\n         this.shadow.innerHTML = `\n         <header class=\"header\"></header>\n         `;\n         this.shadow.appendChild(style)\n      }\n   }\n   customElements.define('header-component',Header)\n}","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"darqx\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dZpbI\\\":\\\"index.424c4166.js\\\",\\\"darqx\\\":\\\"delete.58c1b22f.png\\\"}\"));","export const state = {\n   data: {\n      tasks: [\n         { id: 1, title: \"Item Example\", completed: false },\n         { id: 4, title: \"Thirty item\", deleted: true },\n      ],\n   },\n   listeners: [],\n   init() {\n      const saveData = localStorage.getItem(\"saved-state\")!;\n      this.setState(JSON.parse(saveData));\n   },\n   getState() {\n      return this.data;\n   },\n   getEnabledTasks() {\n      const currentState = this.getState();\n      //el signo ! funciona como un if negativo,\n      //!t.deleted = si no tiene deleted false pasa el filtro, pero si tiene !deleted true no pasa.\n      return currentState.tasks.filter((t) => !t.deleted)\n   },\n   setState(newState) {\n      this.data = newState;\n      for (const cb of this.listeners) {\n         cb(newState);\n      }\n      console.log(\"soy el state, i change\", this.data);\n      localStorage.setItem(\"saved-state\", JSON.stringify(newState))\n   },\n   subscribe(callback: (any) => any) {\n      this.listeners.push(callback);\n   },\n   addTask(id, title) {\n      const cb = state.getState();\n      cb.tasks.push({ id, title, completed: false });\n      this.setState(cb)\n   },\n   changeCompletedState(id, value) {\n      const cb = state.getState();\n      const foundId = cb.tasks.find((t) => t.id == id)\n      foundId.completed = value;\n      this.setState(cb)\n      // console.log(\"task encontrado\",foundId);\n\n      // console.log(\"id\",id);\n      // console.log(\"value\",value);\n      \n   },\n   deleteTasks(taskId: number) {\n      // El operador de desigualdad estricta ( !==) comprueba \n      //si sus dos operandos no son iguales y devuelve un resultado booleano.\n      const currentState = this.getState();\n      currentState.tasks = currentState.tasks.filter((i) => i.id !== taskId)\n      // console.log(\"se elimino un id\",currentState);\n      \n      this.setState(currentState);\n   },\n}\n\n","import { state } from \"../../src/state\";\nexport function initTodoItem() {\n   class TodoItems extends HTMLElement{\n      // shadow: ShadowRoot;\n      shadow:ShadowRoot = this.attachShadow({ mode: 'open' });\n      title: string;\n      checked: boolean;\n      constructor() {\n         super();\n         \n      }\n      connectedCallback() {\n\n         this.title = this.getAttribute(\"title\") || \"\";\n\n         this.checked = this.hasAttribute(\"checked\");\n\n         this.id = this.getAttribute(\"id\")!;\n      \n         this.render();\n      }\n      addListenerCheck() {\n         const checkInput: any = this.shadow.querySelector(\".checkbox-input\");\n         \n         checkInput?.addEventListener(\"click\", (e) => {\n            // console.log(\"soy chek\",checkInput);\n            const target = e.target as any\n            const event = new CustomEvent('change', {\n               detail: {\n                  id: this.id,\n                  value: target.checked,\n               }\n            });\n            this.dispatchEvent(event);\n         });\n\n      }\n      render() {\n         console.log(\"render\");\n         \n         const trashImage = require(\"../../assets/delete.png\");\n         const style = document.createElement('style');\n         style.textContent = `\n         .card{\n            margin: 0 30px 20px 30px;\n            padding:22px 13px;\n            background-color:#FFF599;\n            width:312px;\n            height:110px;\n            display: flex;\n            justify-content: space-between;\n         }\n         .titulo.checked{\n            text-decoration: line-through;\n         }\n         .checkbox-input{\n            width: 43px;\n            height: 22px;\n         }\n         .content-input{\n            position: relative;\n            top: 20px;\n         }\n         .img-trash{\n            position: relative;\n            top: -60px;\n            right: -130px;\n         }\n         .trash{\n            cursor:pointer;\n            \n         }\n         .border-color{\n            border:3px solid;\n\n         }\n         \n         `;\n         \n         this.shadow.innerHTML = `\n         <div class=\"card\">\n            <h3 class=\"titulo ${this.checked? \"checked\":\"\"}\">${this.title}</h3>\n         <div class=\"content-input\">\n            <input class=\"checkbox-input\" type=\"checkbox\" ${this.checked? \"checked\" : \"\"}/>\n         </div>\n         \n         \n         </div>\n         ${this.checked ? `<div class=\"img-trash\">\n         <img id=\"trashId\" class=\"trash\" src=\"${trashImage}\">\n         \n      </div>`:\"\"}\n         `;\n         const selectDivBorder:any = this.shadow.querySelector(\".card\");\n         if (this.checked == true) {\n            selectDivBorder.classList.add(\"border-color\");\n         }\n         // ELIMINAR TASKS\n         const trashDelete = this.shadow.querySelector('.trash');\n         trashDelete?.addEventListener('click', () => {\n\n            const cbTrue = state.getState().tasks;\n            for (const i of cbTrue) {\n               if (i.completed === true) {\n                  state.deleteTasks(i.id);\n                  // console.log(\"soy i\",i.id);\n                  // console.log(\"soy i\",i.completed);\n               }\n            }\n         });\n         this.shadow.appendChild(style);\n         this.addListenerCheck();\n      }\n   }\n   customElements.define('todo-card', TodoItems);\n}\n\n\n","//el componente no interactuca con el estado\n//la page si interactua con el estado\n\n\nimport { state } from \"../../src/state\";\nexport function initHomePage(container: Element) {\n   const div = document.createElement(\"div\");\n   \n   const tasks = state.getEnabledTasks();\n\n   div.innerHTML = `\n      <header-component></header-component>\n      <div class=\"content-h1\">\n         <h1 class=\"title-h1\">Mis Pendientes</h1>\n      </div>\n      <form class=\"content\">\n         <input class=\"input\"/>\n         <button class=\"addButon\">Agregar</button>\n      </form>\n      \n      <ul class=\"list\"></ul>\n      `;\n   \n   const listEl = div.querySelector(\".list\")!;\n   \n   function createTasks(itemTasks) {\n      listEl.innerHTML = \"\";\n      for (const tasks of itemTasks) {\n         const todoItemEl = document.createElement('todo-card');\n         todoItemEl.classList.add(\"container-todo\")\n         todoItemEl.setAttribute(\"title\", tasks.title);\n         todoItemEl.setAttribute(\"id\", tasks.id);\n         if (tasks.completed) {\n            todoItemEl.setAttribute(\"checked\", \"true\");\n            // todoItemEl.style. = \"black\";\n         }\n         todoItemEl.addEventListener('change', (e:any) => {\n            state.changeCompletedState(e.detail.id, e.detail.value);    \n         });\n         listEl.appendChild(todoItemEl);\n      }\n      \n   }\n\n\n   state.subscribe(() => {\n   createTasks(state.getEnabledTasks());   \n\n   })\n   createTasks(tasks); \n   \n\n   const style = document.createElement('style');\n   style.textContent = `\n   .container-todo{\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n   }\n   .title-h1{\n      width:271px;\n      font-size:52px;\n      margin:41px 74px 25px 30px;\n   }\n   @media (min-width:759px){\n      .title-h1{\n      width:auto;\n      }\n      .list{\n         display: grid;\n         grid-template-columns: 393px 387px;\n         justify-content: center;\n      }\n   }\n   .content{\n      display:flex;\n      flex-direction:column;\n      justify-content: center;\n      align-items: center;\n   }\n   @media (min-width:759px){\n      .content{\n      flex-direction:row;\n\n      }\n   }\n   .content-h1{\n      display: flex;\n      justify-content: center;\n      align-items: center;\n   }\n   .input{\n      width:300px;\n      height:42px;\n      margin: 0 32px 15px\n   }\n   .addButon{\n      width:300px;\n      height:42px;\n      background-color: #9CBBE9;\n      font-size:22px;\n      color:black;\n      border-style:none;\n      margin-bottom: 40px;\n   }\n   @media (min-width:759px){\n      .addButon{\n         width: 240px;\n         margin-bottom: 16px;\n      }\n      .input{\n         width: 450px;\n         border:2px solid;\n      }\n   }\n   @media (min-width:1167px){\n      .list{\n         grid-template-columns: 393px 361px 391px;\n         justify-content: center;\n      }\n   }\n   `;\n\n\n\n   \n   const formEl = div.querySelector(\".content\");\n   formEl?.addEventListener('submit', (e) => {\n      e.preventDefault();\n      const inputEl: any = div.querySelector(\".input\");\n      const valueInput = inputEl.value\n      // console.log(valueInput);\n         if (valueInput === \"\") {\n            alert(\"No se puede agregar un campo vacio\")\n            return false\n         } else {\n            state.addTask(Math.random(), valueInput);\n            inputEl.value = \"\";\n         }\n      \n   })\n   container.appendChild(div);\n   container.appendChild(style);\n}","// COMPONENTES\nimport { headerEl } from \"../components/header/index\"\nimport { initTodoItem } from \"../components/todo-item\";\n// PAGE\nimport { initHomePage } from \"../pages/home\"\nimport {state} from \"./state\"\n\n(function () {\n   state.init();\n\n   headerEl();\n   initTodoItem();\n   const div = document.querySelector(\".root\")!;\n   initHomePage(div);\n})();"],"names":["$ede9449cce8c6582$export$76222dc49ddd433c","Header","HTMLElement","shadow","this","attachShadow","mode","constructor","super","render","style","document","createElement","textContent","innerHTML","appendChild","customElements","define","$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$0b89d474933103bc$export$ca000e230c0caa3e","data","tasks","title","completed","deleted","listeners","init","saveData","localStorage","getItem","setState","getState","getEnabledTasks","filter","t","newState","cb","console","log","setItem","stringify","subscribe","callback","push","addTask","changeCompletedState","value","find","deleteTasks","taskId","currentState","$fd6d8c7b2b512b33$export$40de836e73aacde5","TodoItems","connectedCallback","getAttribute","checked","hasAttribute","addListenerCheck","querySelector","addEventListener","e","target","event","CustomEvent","detail","dispatchEvent","trashImage","selectDivBorder","classList","add","cbTrue","$ce40d7bf13cba8a9$export$a5e6865481338347","container","div","listEl","createTasks","itemTasks","todoItemEl","setAttribute","preventDefault","inputEl","valueInput","alert","Math","random"],"version":3,"file":"index.424c4166.js.map"}